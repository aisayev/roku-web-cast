var _RokuWebCast=function(){if("http:"!=window.location.protocol)throw"Only HTTP supported: https://github.com/aisayev/roku-web-cast#HTTPS";this.config={ipaddr:localStorage._RokuWebCastIP?localStorage._RokuWebCastIP:null,check:!0}};_RokuWebCast.prototype.setDeviceIP=function(b){b=void 0===b?"":b;if(b.match(/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/))this.config.ipaddr=b,localStorage._RokuWebCastIP=b;else this.onerror("Invalid IP Address")};
_RokuWebCast.prototype.disableDeviceCheck=function(){this.config.check=!1};_RokuWebCast.prototype.getDeviceIP=function(){return this.config.ipaddr};_RokuWebCast.prototype.checkDevice=function(b,c){if(this.config.check){var a=document.createElement("img"),d=setTimeout(c,5E3);a.onload=function(){clearTimeout(d);b()};a.src="http://"+this.config.ipaddr+"/css/global.png"}else b()};_RokuWebCast.prototype.onerror=function(b){console.log("_RokuWebCast: "+b)};
_RokuWebCast.prototype.cast=function(b,c){c=void 0===c?"":c;if(void 0!=b&&b.match(/^https?:\/\//i))if(null==this.config.ipaddr)this.onerror("Set IP Address first");else{var a=this;this.checkDevice(function(){void 0==a._iframe&&(a._iframe=document.createElement("iframe"),a._iframe.style.display="none",document.body.appendChild(a._iframe),a._iframe.contentWindow.name="_rokuWebCast",a._form=document.createElement("form"),a._form.style.display="none",a._form.target=a._iframe.contentWindow.name,a._form.method=
"POST",document.body.appendChild(a._form));a._form.action="http://"+a.config.ipaddr+":8060/input/15985?t=v&u="+encodeURIComponent(b)+"&videoName="+encodeURIComponent(c);a._form.submit()},function(){a.onerror("Can't connect to device")})}else this.onerror("Invalid URL")};_RokuWebCast.prototype.stop=function(){if(null==this.config.ipaddr||void 0==this._form)this.onerror("Cast not started");else this._form.action="http://"+this.config.ipaddr+":8060/input/15985?t=v&a=stop",this._form.submit()};
_RokuWebCast.prototype.pause=function(){if(null==this.config.ipaddr||void 0==this._form)this.onerror("Cast not started");else this._form.action="http://"+this.config.ipaddr+":8060/input/15985?t=v&a=pause",this._form.submit()};_RokuWebCast.prototype.resume=function(){if(null==this.config.ipaddr||void 0==this._form)this.onerror("Cast not started");else this._form.action="http://"+this.config.ipaddr+":8060/input/15985?t=v&a=play",this._form.submit()};